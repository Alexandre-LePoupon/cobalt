<!DOCTYPE html>
<html>
    <head>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
	        <link rel="stylesheet" type="text/css" href="css/styles.css"/>
    </head>
    <body>

        <a href="javascript:;" class="pop">POP</a><br/>

  		<p><b>WebLayers</b> allow you to add a webview over the current webview.<br/>
             The webview is positioned on the same place that the current one and the background is transparent so that you can define your own "popin" style.</p>

  		<p>Here is a simple one.</p>

        <a href="javascript:;" id="test1">Simple one</a><br/>

        <p>Same thing below but with a longer fadeIn effect</p>

        <a href="javascript:;" id="test2">Longer fadeIn</a><br/>

        <p>No fadeIn at all for this one</p>

        <a href="javascript:;" id="test3">no fadeIn</a><br/>

        <p>This one is a bit more complex. It has an editable field, and when you validate, the parent page is warned and can show what is written.</p>

        <a href="javascript:;" id="test4">Try it</a><br/>

  		<script type="text/javascript" src="js/zepto.min.js"></script>
        <script type="text/javascript" src="../platform/cobalt.js"></script>
        <script type="text/javascript" src="js/app.js"></script>

        <script>

	        Zepto(function($){

	            cobalt.init({
                    debug:app.debug,
                    debugInBrowser:app.debugInBrowser,
                    debugInDiv:app.debugInDiv,

		            events:{
			            "onWebLayerDismissed":function(data, callback){
                            if (data && data.page=="weblayer_content_2.html"){

                                cobalt.toast('webLayer '+data.page+' closed')
                                if (data.data){
                                    cobalt.toast('webLayer result is '+JSON.stringify(data.data))
                                }
                            }
			            }
		            }
		        });

                app.touch('#test1',function(){
                    cobalt.webLayer("show","weblayer_content_1.html");
                });
                app.touch('#test2',function(){
                    cobalt.webLayer("show","weblayer_content_1.html",1.2);
                });
                app.touch('#test3',function(){
                    cobalt.webLayer("show","weblayer_content_1.html",0);
                });
                app.touch('#test4',function(){
                    cobalt.webLayer("show","weblayer_content_2.html");
                });

	            app.touch('a.pop',function(){
                    cobalt.navigate('pop');
                });

	        })


        </script>

    </body>
</html>