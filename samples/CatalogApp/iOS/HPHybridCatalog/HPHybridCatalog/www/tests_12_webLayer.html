<!DOCTYPE html>
<html>
    <head>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
	        <link rel="stylesheet" type="text/css" href="css/styles.css"/>
    </head>
    <body>

        <a href="javascript:;" class="pop">POP</a><br/>

  		<p>Test des alertes web </p>

  		<p>TEST 01 - Ouvrir cette webLayer.</p>

        <a id="test1">Ouvrir</a><br/>

        <p>TEST 02 - Ouvrir cette même webLayer mais avec un effet de fadeIn plus long.</p>

        <a id="test2">Ouvrir</a><br/>

        <p>TEST 03 - Ouvrir cette même webLayer mais avec un effet de fadeIn à 0.</p>

        <a id="test3">Ouvrir</a><br/>

         <p>TEST 04 - Ouvrir cette webLayer d'edition de commentaire, verifier que le champs texte est dans la partie haute de l'ecran, et que le clavier sort tout seul comme un grand.</p>

        <a id="test4">Ouvrir</a><br/>

        <p>TEST 05 - Quand cette webLayer est fermé, un toast s'affiche avec le texte entré dans le webLAyer</p>


  		<p>Ci dessous le log de la lib d'echange</p>
  		<input id="monBouton3" type="button" value="nettoyage logs"/>
  		<div id="cobalt_logdiv"></div>

        <script type="text/javascript" src="js/zepto.min.js"></script>
        <script type="text/javascript" src="js/cobalt/cobalt.js"></script>

		<!-- for cobalt dev only
		  <script type="text/javascript" src="js/cobalt-dev/cobalt.js"></script>
		  <script type="text/javascript" src="js/cobalt-dev/adapter.js"></script>
		-->

        <script>

	        Zepto(function($){

	            cobalt.init({
		            debug:true,
		            events:{
			            "onWebLayerDismissed":function(data, callback){
				            cobalt.toast('webLayer '+data.page+' closed')
				            if (data.data){
					            cobalt.toast('webLayer result is '+JSON.stringify(data.data))
				            }
			            }
		            }
		            //sendingToNative:false,
		        });

                $('a').on('touchstart',function(){ 				$(this).addClass('tapped');   })
                $('a').on('touchend touchcancel',function(){  	$(this).removeClass('tapped');});

		       $('#test1').on('tap click',function(){
			        cobalt.webLayer("show","tests_12_webLayerContent.html");
		            return false;
	            });
				$('#test2').on('tap click',function(){
					cobalt.webLayer("show","tests_12_webLayerContent.html",1.2);
		            return false;
	            });
				$('#test3').on('tap click',function(){
					cobalt.webLayer("show","tests_12_webLayerContent.html",0);
		            return false;
	            });
		        $('#test4').on('tap click',function(){
			        cobalt.webLayer("show","tests_12_webLayerContentEdit.html");
		            return false;
	            });


	            $('#monBouton3').on('tap click',function(){
					if (cobalt.ios_adapter){
						cobalt.ios_adapter.pipeline=[];
						cobalt.ios_adapter.pipelineRunning=false;
					}
                    $('#cobalt_logdiv').html('');
                    return false;
				});

	            $('a.pop').on('tap click',function(){
		        	cobalt.navigate('pop');
		            return false;
	            });

	        })


        </script>

    </body>
</html>